{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { WebPlugin } from './index';\nimport { extend } from '../util';\n\nvar GeolocationPluginWeb =\n/** @class */\nfunction (_super) {\n  __extends(GeolocationPluginWeb, _super);\n\n  function GeolocationPluginWeb() {\n    return _super.call(this, {\n      name: 'Geolocation',\n      platforms: ['web']\n    }) || this;\n  }\n\n  GeolocationPluginWeb.prototype.getCurrentPosition = function (options) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      return _this.requestPermissions().then(function (_result) {\n        window.navigator.geolocation.getCurrentPosition(function (pos) {\n          resolve(pos);\n        }, function (err) {\n          reject(err);\n        }, extend({\n          enableHighAccuracy: true,\n          timeout: 10000,\n          maximumAge: 0\n        }, options));\n      });\n    });\n  };\n\n  GeolocationPluginWeb.prototype.watchPosition = function (options, callback) {\n    var id = window.navigator.geolocation.watchPosition(function (pos) {\n      callback(pos);\n    }, function (err) {\n      callback(null, err);\n    }, extend({\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 0\n    }, options));\n    return \"\" + id;\n  };\n\n  GeolocationPluginWeb.prototype.clearWatch = function (options) {\n    window.navigator.geolocation.clearWatch(parseInt(options.id, 10));\n    return Promise.resolve();\n  };\n\n  return GeolocationPluginWeb;\n}(WebPlugin);\n\nexport { GeolocationPluginWeb };\nvar Geolocation = new GeolocationPluginWeb();\nexport { Geolocation };","map":{"version":3,"sources":["../../../src/web/geolocation.ts"],"names":[],"mappings":";AAAA,SAAS,SAAT,QAA0B,SAA1B;AAWA,SAAS,MAAT,QAAuB,SAAvB;;AAEA,IAAA,oBAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAA0C,EAAA,SAAA,CAAA,oBAAA,EAAA,MAAA,CAAA;;AACxC,WAAA,oBAAA,GAAA;WACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM;AACJ,MAAA,IAAI,EAAE,aADF;AAEJ,MAAA,SAAS,EAAE,CAAC,KAAD;AAFP,KAAN,KAGE,I;AACH;;AAED,EAAA,oBAAA,CAAA,SAAA,CAAA,kBAAA,GAAA,UAAmB,OAAnB,EAA+C;AAA/C,QAAA,KAAA,GAAA,IAAA;;AACE,WAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAgB;AACjC,aAAO,KAAI,CAAC,kBAAL,GAA0B,IAA1B,CAA+B,UAAC,OAAD,EAAkC;AACtE,QAAA,MAAM,CAAC,SAAP,CAAiB,WAAjB,CAA6B,kBAA7B,CAAgD,UAAC,GAAD,EAAI;AAClD,UAAA,OAAO,CAAC,GAAD,CAAP;AACD,SAFD,EAEG,UAAC,GAAD,EAAI;AACL,UAAA,MAAM,CAAC,GAAD,CAAN;AACD,SAJD,EAIG,MAAM,CAAC;AACR,UAAA,kBAAkB,EAAE,IADZ;AAER,UAAA,OAAO,EAAE,KAFD;AAGR,UAAA,UAAU,EAAE;AAHJ,SAAD,EAIN,OAJM,CAJT;AASD,OAVM,CAAP;AAWD,KAZM,CAAP;AAaD,GAdD;;AAgBA,EAAA,oBAAA,CAAA,SAAA,CAAA,aAAA,GAAA,UAAc,OAAd,EAA2C,QAA3C,EAA6E;AAC3E,QAAI,EAAE,GAAG,MAAM,CAAC,SAAP,CAAiB,WAAjB,CAA6B,aAA7B,CAA2C,UAAC,GAAD,EAAI;AACtD,MAAA,QAAQ,CAAC,GAAD,CAAR;AACD,KAFQ,EAEN,UAAC,GAAD,EAAI;AACL,MAAA,QAAQ,CAAC,IAAD,EAAO,GAAP,CAAR;AACD,KAJQ,EAIN,MAAM,CAAC;AACR,MAAA,kBAAkB,EAAE,IADZ;AAER,MAAA,OAAO,EAAE,KAFD;AAGR,MAAA,UAAU,EAAE;AAHJ,KAAD,EAIN,OAJM,CAJA,CAAT;AAUA,WAAO,KAAG,EAAV;AACD,GAZD;;AAcA,EAAA,oBAAA,CAAA,SAAA,CAAA,UAAA,GAAA,UAAW,OAAX,EAAkC;AAChC,IAAA,MAAM,CAAC,SAAP,CAAiB,WAAjB,CAA6B,UAA7B,CAAwC,QAAQ,CAAC,OAAO,CAAC,EAAT,EAAa,EAAb,CAAhD;AACA,WAAO,OAAO,CAAC,OAAR,EAAP;AACD,GAHD;;AAIF,SAAA,oBAAA;AAAC,CA1CD,CAA0C,SAA1C,CAAA;;;AA4CA,IAAM,WAAW,GAAG,IAAI,oBAAJ,EAApB;AAEA,SAAS,WAAT","sourceRoot":"","sourcesContent":["import { __extends } from \"tslib\";\nimport { WebPlugin } from './index';\nimport { extend } from '../util';\nvar GeolocationPluginWeb = /** @class */ (function (_super) {\n    __extends(GeolocationPluginWeb, _super);\n    function GeolocationPluginWeb() {\n        return _super.call(this, {\n            name: 'Geolocation',\n            platforms: ['web']\n        }) || this;\n    }\n    GeolocationPluginWeb.prototype.getCurrentPosition = function (options) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            return _this.requestPermissions().then(function (_result) {\n                window.navigator.geolocation.getCurrentPosition(function (pos) {\n                    resolve(pos);\n                }, function (err) {\n                    reject(err);\n                }, extend({\n                    enableHighAccuracy: true,\n                    timeout: 10000,\n                    maximumAge: 0\n                }, options));\n            });\n        });\n    };\n    GeolocationPluginWeb.prototype.watchPosition = function (options, callback) {\n        var id = window.navigator.geolocation.watchPosition(function (pos) {\n            callback(pos);\n        }, function (err) {\n            callback(null, err);\n        }, extend({\n            enableHighAccuracy: true,\n            timeout: 10000,\n            maximumAge: 0\n        }, options));\n        return \"\" + id;\n    };\n    GeolocationPluginWeb.prototype.clearWatch = function (options) {\n        window.navigator.geolocation.clearWatch(parseInt(options.id, 10));\n        return Promise.resolve();\n    };\n    return GeolocationPluginWeb;\n}(WebPlugin));\nexport { GeolocationPluginWeb };\nvar Geolocation = new GeolocationPluginWeb();\nexport { Geolocation };\n//# sourceMappingURL=geolocation.js.map"]},"metadata":{},"sourceType":"module"}