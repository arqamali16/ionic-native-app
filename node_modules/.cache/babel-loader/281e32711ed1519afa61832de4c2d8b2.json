{"ast":null,"code":"import { __awaiter, __extends, __generator } from \"tslib\";\nimport { WebPlugin } from './index';\nimport { PermissionType } from '../core-plugin-definitions';\n\nvar PermissionsPluginWeb =\n/** @class */\nfunction (_super) {\n  __extends(PermissionsPluginWeb, _super);\n\n  function PermissionsPluginWeb() {\n    return _super.call(this, {\n      name: 'Permissions'\n    }) || this;\n  }\n\n  PermissionsPluginWeb.prototype.query = function (options) {\n    return __awaiter(this, void 0, void 0, function () {\n      var navigator, name, ret;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            navigator = window.navigator;\n\n            if (!navigator.permissions) {\n              return [2\n              /*return*/\n              , Promise.reject('This browser does not support the Permissions API')];\n            }\n\n            name = options.name === PermissionType.Photos ? 'camera' : options.name;\n            return [4\n            /*yield*/\n            , navigator.permissions.query({\n              name: name\n            })];\n\n          case 1:\n            ret = _a.sent();\n            return [2\n            /*return*/\n            , {\n              state: ret.state\n            }];\n        }\n      });\n    });\n  };\n\n  return PermissionsPluginWeb;\n}(WebPlugin);\n\nexport { PermissionsPluginWeb };\nvar Permissions = new PermissionsPluginWeb();\nexport { Permissions };","map":{"version":3,"sources":["../../../src/web/permissions.ts"],"names":[],"mappings":";AAAA,SAAS,SAAT,QAA0B,SAA1B;AAEA,SAC2D,cAD3D,QAEO,4BAFP;;AAIA,IAAA,oBAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAA0C,EAAA,SAAA,CAAA,oBAAA,EAAA,MAAA,CAAA;;AACxC,WAAA,oBAAA,GAAA;WACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM;AACJ,MAAA,IAAI,EAAE;AADF,KAAN,KAEE,I;AACH;;AAEK,EAAA,oBAAA,CAAA,SAAA,CAAA,KAAA,GAAN,UAAY,OAAZ,EAAuC;;;;;;AAC/B,YAAA,SAAS,GAAG,MAAM,CAAC,SAAnB;;AAEN,gBAAI,CAAC,SAAS,CAAC,WAAf,EAA4B;AAC1B,qBAAA,CAAA;AAAA;AAAA,gBAAO,OAAO,CAAC,MAAR,CAAe,mDAAf,CAAP,CAAA;AACD;;AAIK,YAAA,IAAI,GAAG,OAAO,CAAC,IAAR,KAAiB,cAAc,CAAC,MAAhC,GAAyC,QAAzC,GAAoD,OAAO,CAAC,IAAnE;AAEM,mBAAA,CAAA;AAAA;AAAA,cAAM,SAAS,CAAC,WAAV,CAAsB,KAAtB,CAA4B;AAAE,cAAA,IAAI,EAAA;AAAN,aAA5B,CAAN,CAAA;;;AAAN,YAAA,GAAG,GAAG,EAAA,CAAA,IAAA,EAAN;AAEN,mBAAA,CAAA;AAAA;AAAA,cAAO;AACL,cAAA,KAAK,EAAE,GAAG,CAAC;AADN,aAAP,CAAA;;;;AAGD,GAhBK;;AAiBR,SAAA,oBAAA;AAAC,CAxBD,CAA0C,SAA1C,CAAA;;;AA0BA,IAAM,WAAW,GAAG,IAAI,oBAAJ,EAApB;AAEA,SAAS,WAAT","sourceRoot":"","sourcesContent":["import { __awaiter, __extends, __generator } from \"tslib\";\nimport { WebPlugin } from './index';\nimport { PermissionType } from '../core-plugin-definitions';\nvar PermissionsPluginWeb = /** @class */ (function (_super) {\n    __extends(PermissionsPluginWeb, _super);\n    function PermissionsPluginWeb() {\n        return _super.call(this, {\n            name: 'Permissions'\n        }) || this;\n    }\n    PermissionsPluginWeb.prototype.query = function (options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var navigator, name, ret;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        navigator = window.navigator;\n                        if (!navigator.permissions) {\n                            return [2 /*return*/, Promise.reject('This browser does not support the Permissions API')];\n                        }\n                        name = options.name === PermissionType.Photos ? 'camera' : options.name;\n                        return [4 /*yield*/, navigator.permissions.query({ name: name })];\n                    case 1:\n                        ret = _a.sent();\n                        return [2 /*return*/, {\n                                state: ret.state\n                            }];\n                }\n            });\n        });\n    };\n    return PermissionsPluginWeb;\n}(WebPlugin));\nexport { PermissionsPluginWeb };\nvar Permissions = new PermissionsPluginWeb();\nexport { Permissions };\n//# sourceMappingURL=permissions.js.map"]},"metadata":{},"sourceType":"module"}